/* Jon Richards 2015 | GPL-2.0+ | http://www.gnu.org/licenses/gpl-2.0.txt
 * INCLUDES
 * Jquery Menu Aim | https://github.com/kamens/jQuery-menu-aim
 * Get Viewport Dimensions | http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript
*/
!function(a){function c(c){var p=a(this),h=null,g=[],v=null,l=null,e=a.extend({rowSelector:"> li",submenuSelector:"*",submenuDirection:"right",tolerance:75,enter:a.noop,exit:a.noop,activate:a.noop,deactivate:a.noop,exitMenu:a.noop},c),y=function(a){a!=h&&(h&&e.deactivate(h),e.activate(a),h=a)},z=function(a){var c=A();c?l=setTimeout(function(){z(a)},c):y(a)},A=function(){function c(a,d){return(d.y-a.y)/(d.x-a.x)}if(!h||!a(h).is(e.submenuSelector))return 0;var d=p.offset(),k={x:d.left,y:d.top-e.tolerance},
l={x:d.left+p.outerWidth(),y:k.y},x={x:d.left,y:d.top+p.outerHeight()+e.tolerance},w={x:d.left+p.outerWidth(),y:x.y},q=g[g.length-1],m=g[0];if(!q||(m||(m=q),m.x<d.left||m.x>w.x||m.y<d.top||m.y>w.y)||v&&q.x==v.x&&q.y==v.y)return 0;var u=l,d=w;"left"==e.submenuDirection?(u=x,d=k):"below"==e.submenuDirection?(u=w,d=x):"above"==e.submenuDirection&&(u=k,d=l);k=c(q,u);l=c(q,d);u=c(m,u);m=c(m,d);return u>k&&l>m?(v=q,300):(v=null,0)};p.mouseleave(function(){l&&clearTimeout(l);e.exitMenu(this)&&(h&&e.deactivate(h),
h=null)}).find(e.rowSelector).mouseenter(function(){l&&clearTimeout(l);e.enter(this);z(this)}).mouseleave(function(){e.exit(this)}).click(function(){y(this)});a(document).mousemove(function(a){g.push({x:a.pageX,y:a.pageY});3<g.length&&g.shift()})}a.fn.menuAim=function(a){return this.each(function(){c.call(this,a)}),this}}(jQuery);
function f01(){var a=window,c=document,k=c.documentElement,c=c.getElementsByTagName("body")[0];return{width:a.innerWidth||k.clientWidth||c.clientWidth,height:a.innerHeight||k.clientHeight||c.clientHeight}}var v01=$("#js-main-list"),v02=v01.find("li"),v03=!1,v04=f01();v01.mouseenter(function(){v04=f01();1030<=v04.width?(v03=!0,v01.menuAim({activate:f02,deactivate:f03,exitMenu:f04})):v03=!1});function f02(a){v03&&$(a).addClass("active-li")}function f03(a){$(a).removeClass("active-li")}
function f04(){v03=!1;v02.removeClass("active-li")}v02.click(function(){$(this).toggleClass("active-li")});var v05=$("#js-carousel-main"),v06=v05.find(".slide"),v07=$("#js-carousel-blips > .blip"),v08=v06.length-1,v09=8E3,v10=!1,v11=!1,v12=0;
if(0<v05.length){var v13=window.setInterval(f05,v09);v05.mouseover(function(){v10=!0});v05.mouseout(function(){v10=!1;clearInterval(v13);v13=window.setInterval(f05,v09)});v07.mouseover(function(){v10=!0});v07.mouseout(function(){v10=!1;clearInterval(v13);v13=window.setInterval(f05,v09)})}function f05(){v10||v11||(v12=v12==v08?0:v12++,v11=!0,f06(v12))}v07.click(function(){v12==$(this).index()||v11||(v11=!0,v12=$(this).index(),f06(v12))});
function f06(a){v05.find(".go-away").removeClass("is-active").removeClass("go-away");v05.find(".is-active").addClass("go-away");v06.eq(a).removeClass("go-away").addClass("is-active");v07.removeClass("active").eq(a).addClass("active");setTimeout(function(){v11=!1},600)}var v13=$("#js-form-complete").find(".form-search"),v14=v13.find(".search-in"),v15=v13.find(".search-out");
v14.keyup(function(){v04=f01();if(1030<=v04.width){var a=$(this).val();3<=a.length?$.get(fileSrc.admin,{keyword:a,action:"jr_autocomplete"}).done(f07):v15.html("")}});function f07(a){a=$.parseJSON(a);v15.html("");$(a).each(function(a){4>a&&v15.append('<li><a href="'+fileSrc.site+"/products/"+this.filter+"/"+this.url+'/" >'+this.name+("brand"==this.filter?"<span> - Brand</span>":"<span> - Category</span>")+"</a></li>")})}
v14.on("keydown",function(a){r=v15.find("li > a");"40"==a.keyCode&&0<r.length&&(a.preventDefault(),f08("d",-1))});v15.on("keydown","li > a",function(a){f=v15.find(":focus");"40"==a.keyCode&&0<f.length?(a.preventDefault(),$i=$(this).parent("li").index(),f08("d",$i)):"38"==a.keyCode&&0<f.length&&(a.preventDefault(),$i=$(this).parent("li").index(),f08("u",$i))});
function f08(a,c){r=v15.find("li > a");rC=r.length;"d"==a&&c+1<rC?(c++,t=r.eq(c),tx=t.text(),v14.val(tx)):"u"==a&&(0<c?(c--,t=r.eq(c),tx=t.text(),v14.val(tx)):t=v14);t.focus()}var v16=$("#js-gallery-primary"),v17=$("#js-gallery-thumbs"),v18=v17.find("li"),v19=$("#js-gallery-prev"),v20=$("#js-gallery-next"),v21=v18.length-1;v18.click(function(){i=$(this).index();f09(i)});
function f09(a){t=v18.eq(a).find("img");s=t.attr("src").replace("gallery-thumb","gallery").split("/").slice(-3).join("/");f="../"+s;v16.addClass("loading");1==t.data("tile")?v16.removeClass("loading").find("img").attr("src",fileSrc.site+"/"+s):($.get(fileSrc.admin,{src:f,size:"tile",action:"jr_resize"},f10),t.data("tile",1))}function f10(a){n=$.parseJSON(a).replace("../",fileSrc.site+"/");v16.removeClass("loading").find("img").attr("src",n)}v19.click(function(){0==v21&&(v21=v18.length);v21--;f09(v21)});
v20.click(function(){v21==v18.length-1&&(v21=-1);v21++;f09(v21)});var v22=$("#js-gallery-modal"),v23=v16.find(".tile-hover.zoom"),v24=v22.find(".modal-close");v25=$("#js-buy-modal");v26=$("#js-buy-btn");v27=v25.find(".modal-close");v28=$("#js-query-modal");v29=$("#js-query-btn");v30=v28.find(".modal-close");function f11(a){a.addClass("is-active-small")}function f12(a){a.removeClass("is-active");a.removeClass("is-active-small")}
v23.click(function(){i=v16.find("img").attr("src");b=i.replace("gallery-tile","gallery");v22.find("img").length?v22.find("img").attr("src",b):(bN='<img class="framed" src="'+b+'" >',v22.append(bN));v22.addClass("is-active")});v24.click(function(){f12(v22)});v26.click(function(){f11(v25)});v29.click(function(){f11(v28)});v27.click(function(){f12(v25)});v30.click(function(){f12(v28)});var v31=$("#js-question-in").find("option"),v32=$("#js-question-out");
v31.click(function(){var a=$(this).val();v32.addClass("loading");$.get(fileSrc.admin,{keyword:a,action:"jr_getAnswers"}).done(f13)});function f13(a){a=$.parseJSON(a);v32.removeClass("loading").html(a.answer).next("button").html(a.next)}var v33=$(".js_contact_form"),v34=v33.find("input.req"),v35=v33.find("input:not(.req)"),v36=v33.find(".js_nextBtn"),v37=v33.find(".js_backBtn"),v38=[];v33.attr("novalidate","");
v33.submit(function(a){v38=[];v39=$(this);v40=v39.find(".response");a.preventDefault();v39.find(v34).each(function(){$el=$(this);f14($el)});v40.removeClass("success").removeClass("error").empty();0==v38.length?(v40.addClass("loading"),$.get(fileSrc.admin,{keyword:v39.serialize(),action:"jr_formsubmit",url:window.location.href}).done(f15)):v40.addClass("error").html("Please fill in required items")});
v36.click(function(a){v41=$(this).closest("fieldset.subform-active");v38=[];v40=v41.find(".response");v41.find(v34).each(function(){$el=$(this);f14($el)});v40.removeClass("success").removeClass("error").empty();console.log(v41[0]);0==v38.length?v41.removeClass("subform-active").next("fieldset").addClass("subform-active"):v40.addClass("error").html("Please fill in required items")});v37.click(function(a){$(this).parent("fieldset.subform-active").removeClass("subform-active").prev("fieldset").addClass("subform-active")});
v34.change(function(a){$el=$(this);f14($el)});v35.change(function(a){$el=$(this);0<$el.val().length?$el.addClass("success"):$el.removeClass("success")});
function f14(a){var c=a.val(),k=a.attr("name"),p=a.attr("type"),h=c.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/),g="";a.removeClass("error").removeClass("success").next("span").empty();"email"!=p||h||(g="Please enter a valid email address",a.addClass("error"));1>c.length&&(g="Your "+k+" is required");0<g.length?(a.addClass("error").next("span").text(g),v38.push(g)):a.addClass("success")}
function f15(a){a=$.parseJSON(a);o="Form mailed successfully"==a?"success":"error";v33.find(".response").removeClass("loading").addClass(o).html(a)};
