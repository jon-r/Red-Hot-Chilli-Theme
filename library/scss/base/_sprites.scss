/*-------------------------sprite layouts + settings ----------------------------------*/

//temp link for image-relativity;
$siteLink: /redhotchilli;

//icon coords

// name: size x y,

$iconMap: (
  //black
  close: 1 0 0,
  tick: 1 1 0,
  plus: 1 2 0,
  menu: 1 3 0,
  arrow: 1 4 0,
  search: 1 5 0,
  question: 1 0 1,
  basket: 1 1 1,
  phone: 1 2 1,
  talk: 1 3 1,
  email: 1 4 1,
  expand: 1 5 1,
  arrow-r: 1 6 0,

  //white
  close-w: 1 8 0,
  tick-w: 1 9 0,
  plus-w: 1 10 0,
  menu-w: 1 11 0,
  arrow-w: 1 12 0,
  search-w: 1 13 0,
  question-w: 1 8 1,
  basket-w: 1 9 1,
  phone-w: 1 10 1,
  talk-w: 1 11 1,
  email-w: 1 12 1,
  expand-w: 1 13 1,
  arrow-r-w: 1 14 0,

  //power
  single-phase: 4 0 2,
  three-phase: 4 4 2,
  natural-gas: 4 8 2,
  lpg: 4 12 2,
  dual-fuel: 4 0 6,

  //chilled
  freezer: 4 4 6,
  fridge: 4 8 6,
  fridge-freezer: 4 12 6,

  //banner flags. note to offset by x+8 y+8
  sale: 2 0 10,
  sold: 2 2 10,
  soon: 2 4 10,
  new: 2 6 10,

  //social
  facebook: 2 0 12,
  twitter: 2 2 12,
  linkedin: 2 4 12,

  //loader. special case since animated
  loader: 2 14 12
);

$iconTypeMap: (
  nav-icon: top 0 right 0,
  banner: top -8px right -8px,
  power-icon: bottom 0 right 0,
  loader: top 0 left 0,
);

//serparating core pseudo parts to keep dry css
@mixin jr-icon($pseudo, $icon: none, $master: true) {

  @if $master == true {
    position: relative;
    &::#{$pseudo} {
      content: '';
      position: absolute;
      background-image: url(#{$siteLink + '/images/icons/RHC-Icons.png'});
      background-repeat: no-repeat;

      @if $icon != "none" {
        @include jr-icon-coords($icon);
      }

      @content;
    }
  }
  @else {
    &::#{$pseudo} {
      @if $icon != "none" {
        @include jr-icon-coords($icon);
      }

      @content;
    }
  }
}

@mixin jr-icon-coords($iconRef) {
  $sprite-scale: 64px;
  $sprite-ref: map-get($iconMap, $iconRef);
  $sprite-size: nth($sprite-ref, 1) * $sprite-scale;
  $sprite-coord-x: -(nth($sprite-ref, 2) * $sprite-scale);
  $sprite-coord-y: -(nth($sprite-ref, 3) * $sprite-scale);

  background-position: $sprite-coord-x $sprite-coord-y;
  width: $sprite-size;

  @if $iconRef == "loader" {
    height: #{ $sprite-size / 5 };

  }
  @else {
    height: $sprite-size;
  }
}

$icon-after:
  single-phase,
  three-phase,
  natural-gas,
  lpg,
  dual-fuel,
  freezer,
  fridge,
  fridge-freezer;

@each $item-icon in $icon-after {
  .#{$item-icon} {
    @include jr-icon(after, $item-icon, false);
  }
}

$icon-before:
  sale,
  sold,
  soon,
  new,
  linkedin,
  twitter,
  facebook,
  phone-w,
  email-w;

@each $item-icon in $icon-before {
  .#{$item-icon} {
    @include jr-icon(before, $item-icon, false);
  }
}

//
//@keyframes loader-animate {
//  0%    {background-position: -896px -768px};
//  100%  {background-position: -896px -888px};
//}
//@-webkit-keyframes loader-animate {
//  0%    {background-position: -896px -768px};
//  100%  {background-position: -896px -888px};
//}
//
//
//.items-loader {
//  @include jr-flex(1,1);
//  @include jr-icon(before, loader, $master: true) {
//    left: calc(50% - 48px - 1rem);
//    animation: loader-animate 0.4s steps(5) alternate infinite;
//    -webkit-animation: loader-animate 0.4s steps(5) alternate infinite;
//  };
//  height:32px;
//}
