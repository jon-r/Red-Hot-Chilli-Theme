/*-------------------------sprite layouts + settings ----------------------------------*/

//temp link for image-relativity;
$siteLink: /redhotchilli;

//icon coords

// name: size x y,

$iconMap: (
  //black
  close: 1 0 0,
  tick: 1 1 0,
  plus: 1 2 0,
  menu: 1 3 0,
  arrow: 1 4 0,
  search: 1 5 0,
  question: 1 0 1,
  basket: 1 1 1,
  phone: 1 2 1,
  talk: 1 3 1,
  email: 1 4 1,
  expand: 1 5 1,

  //white
  close-w: 1 8 0,
  tick-w: 1 9 0,
  plus-w: 1 10 0,
  menu-w: 1 11 0,
  arrow-w: 1 12 0,
  search-w: 1 13 0,
  question-w: 1 8 1,
  basket-w: 1 9 1,
  phone-w: 1 10 1,
  talk-w: 1 11 1,
  email-w: 1 12 1,
  expand-w: 1 13 1,

  //power
  single-phase: 4 0 2,
  three-phase: 4 4 2,
  natural-gas: 4 8 2,
  lpg: 4 12 2,
  dual-fuel: 4 0 6,

  //chilled
  freezer: 4 4 6,
  fridge: 4 8 6,
  fridge-freezer: 4 12 6,

  //banner flags. note to offset by x+8 y+8
  sale: 2 0 10,
  sold: 2 2 10,
  soon: 2 4 10,
  new: 2 6 10,

  //social
  facebook: 2 0 12,
  twitter: 2 2 12,
  linkedin: 2 4 12,

  //loader. special case since animated
  loader: 2 14 10
);


//// credit to http://hugogiraudel.com/2013/08/05/offsets-sass-mixin/
//@mixin position($args) {
//  @each $o in top right bottom left {
//        $i: index($args, $o);
//
//    @if $i and $i + 1< = length($args) {
//          #{$o}: nth($args, $i + 1);
//    }
//  }
//}

$iconTypeMap: (
  nav-icon: top 0 right 0,
  banner: top -8px right -8px,
  power-icon: bottom 0 right 0,
  loader: top 0 left 0,
);

@mixin jr-icon-base($iconType) {
  position: relative;
  &::before {
    content:'';
    position:absolute;
    background-image: url(#{$siteLink + '/images/icons/RHC-Icons.png'});
    background-repeat: no-repeat;
    right: 0;
    @if $iconType == nav-icon {
      transform-origin: right;
      transform: scale(0.5);
    } @else if $iconType == power-icon {
      bottom: 0;
      transform-origin:bottom right;
      transform: scale(0.5);
    } @else if $iconType == banner {
      top: -8px;
      right: -8px;
    }
  }
}

@mixin jr-icon($iconRef) {
  $sprite-scale: 64px;
  $sprite-ref: map-get($iconMap, $iconRef);
  $sprite-size: nth($sprite-ref, 1) * 64px;
  $sprite-coord-x: -(nth($sprite-ref, 2) * $sprite-scale);
  $sprite-coord-y: -(nth($sprite-ref, 3) * $sprite-scale);

  position: relative;

  &::before {

    @if $iconRef == loader {
  //    background: url('/../images/icons/RHC-Icons.png') no-repeat $sprite-coord-x $sprite-coord-y;
      //wordpress css in wierd place forcing root relative
      width: $sprite-size;
      height: #{$sprite-size / 5};
      //animate me
    } @else {
      background-position:$sprite-coord-x $sprite-coord-y;
      width: $sprite-size;
      height: $sprite-size;
  //    transform: scale(0.5);
      //look into linking origin with the variable?
      transform-origin: right;


    }

  }



}

